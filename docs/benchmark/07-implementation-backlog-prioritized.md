# 07 -- قائمة الأعمال المتراكمة ذات الأولوية

> تاريخ الإعداد: 2026-02-13
> المصدر: خارطة طريق التحسين (06-improvement-roadmap-2tracks.md) + تحليل الفجوات الكمّي + بحث المنافسين

---

## نظرة عامة

تُصنّف الأعمال إلى 3 مستويات أولوية:

| المستوى | التعريف | معيار التصنيف |
|---------|---------|---------------|
| **P0 -- حرج** | يؤثر على الأمان أو سلامة البيانات أو تجربة المستخدم الأساسية | يجب تنفيذه في Sprint القادم |
| **P1 -- مهم** | يحسّن نضج سير العمل أو عمق التقارير أو تجربة المستخدم | يُنفّذ خلال 1-3 أشهر |
| **P2 -- مرغوب** | تحليلات متقدمة أو تكامل عميق أو تحسينات طويلة الأمد | يُنفّذ خلال 3-6 أشهر |

---

## P0 -- حرج (Critical)

| المعرف | العنوان | الوصف | الأولوية | الجهد | الأثر | المخاطر | معايير القبول |
|--------|---------|-------|----------|-------|-------|---------|---------------|
| BM-001 | تأمين صلاحيات الأنواع الديناميكية | إضافة RBAC على مستوى الموارد لـ Dynamic Document Types و Custom Data Sources و Custom Fields. حالياً أي مستخدم يصل إلى المسارات يمكنه التعديل. ENTITY_MODEL_MAP يتعامل مع 23 كياناً مباشرة. | P0 | S (1-2 أيام) | حرج -- أمني | منخفضة | جميع routes الديناميكية محمية بـ requirePermission; ADMIN فقط يمكنه CRUD على Dynamic Types |
| BM-002 | تأمين وحدة AI | إضافة rate limiting (30 طلب/ساعة) و input validation مُحسّن و SQL injection prevention لـ AI Chat. الوحدة تُنفّذ queries على 18 جدولاً. | P0 | S (1-2 أيام) | حرج -- أمني | منخفضة | Rate limiter مُفعّل; جميع المدخلات تمر عبر sanitization; اختبارات SQL injection تمر بنجاح |
| BM-003 | إضافة Breadcrumbs | لا يوجد breadcrumbs في أي من الصفحات الـ93. المستخدم يفقد سياق موقعه. جميع أنظمة Tier 1/2/3 توفر breadcrumbs كميزة أساسية. | P0 | S (1-2 أيام) | عالي -- UX | منخفضة | Breadcrumbs تظهر في جميع الصفحات; تعكس المسار الهرمي; تدعم النقر للتنقل |
| BM-004 | توحيد التنقل لجميع الأدوار | ADMIN يرى 10 أقسام مع 59 عنصراً مُصنّفة؛ باقي الأدوار (9 أدوار) ترى 3-7 عناصر مسطحة بدون تصنيف. تفاوت حاد في تجربة التنقل. | P0 | S (1-2 أيام) | عالي -- UX | منخفضة | جميع الأدوار تعرض تنقلاً مُصنّفاً في أقسام قابلة للطي; لا تراجع في الأداء |
| BM-005 | إصلاح Drill-down من KPI | بطاقات KPI في 18 dashboard تعرض أرقاماً بدون روابط. نمط SAP: KPI Tile → Monitor → Detail مفقود بالكامل. | P0 | S (1-2 أيام) | عالي -- UX | منخفضة | جميع KPI cards قابلة للنقر; النقر ينتقل إلى قائمة مفلترة; الفلتر يُطبّق تلقائياً |
| BM-006 | إضافة CSRF Protection لـ API endpoints | التحقق من وجود حماية CSRF على جميع endpoints التي تُعدّل البيانات (POST/PUT/DELETE). مطلوب للامتثال الأمني. | P0 | S (1-2 أيام) | حرج -- أمني | منخفضة | جميع mutating endpoints محمية; اختبارات CSRF تمر بنجاح |
| BM-007 | إضافة Audit Logging لعمليات الأنواع الديناميكية | العمليات على Dynamic Document Types و Custom Data Sources لا تُسجّل في AuditLog حالياً. | P0 | S (1 يوم) | عالي -- امتثال | منخفضة | جميع CRUD operations على الأنواع الديناميكية مُسجّلة في AuditLog مع userId و timestamp و before/after |

---

## P1 -- مهم (Important)

| المعرف | العنوان | الوصف | الأولوية | الجهد | الأثر | المخاطر | معايير القبول |
|--------|---------|-------|----------|-------|-------|---------|---------------|
| BM-010 | عروض محفوظة للمستخدمين | توسيع UserView model لدعم حفظ تكوين الأعمدة والفلاتر والترتيب في SmartGrid. دعم العروض الافتراضية لكل دور. NetSuite و SAP Fiori يوفران هذه الميزة في كل شاشة. | P1 | M (3-5 أيام) | متوسط | منخفضة | حفظ/تحميل/مشاركة العروض يعمل في جميع صفحات القوائم; عروض افتراضية لكل دور |
| BM-011 | لوحة استثناءات تشغيلية | إنشاء ExceptionDashboard مع 5 طوابير: مهام متأخرة، مستندات متعطلة، انتهاكات SLA، مخزون منخفض، موافقات معلّقة. SAP EWM Warehouse Monitor + Oracle AI Agents مرجع. | P1 | M (3-5 أيام) | عالي | منخفضة-متوسطة | 5 طوابير استثناء تعمل مع بيانات حية; إجراءات سريعة لكل استثناء; تحديث فوري عبر Socket.IO |
| BM-012 | قوالب تقارير تشغيلية | إنشاء 15-20 قالب تقرير مُعدّ مسبقاً (يومي/أسبوعي/شهري) يغطي: حركة المخزون، GRN/MI/MR summaries، استثناءات SLA، أداء الموردين. SAP: 465 تقرير قياسي. | P1 | M (3-5 أيام) | متوسط-عالي | منخفضة | 15+ قالب جاهز; كل قالب قابل للنسخ والتخصيص; يعمل مع data sources الموجودة |
| BM-013 | محطة التعبئة (Packing Station) | إضافة واجهة packing station مخصصة لعملية التعبئة بعد الانتقاء (picking). SAP EWM /SCWM/PACK و NetSuite Pack Station و Manhattan Pack Stations كلها توفر هذه الميزة. | P1 | M (3-5 أيام) | متوسط | منخفضة | صفحة Packing Station مع barcode scan; تسجيل محتويات كل carton/pallet; طباعة labels |
| BM-014 | إدارة منطقة التجميع (Staging Area) | إضافة إدارة مناطق التجميع (staging areas) لعمليات الاستلام والشحن. تتبع المواد في مناطق التجميع المؤقتة قبل putaway أو shipping. | P1 | M (3-5 أيام) | متوسط | منخفضة | CRUD لمناطق التجميع; تعيين مواد لمنطقة; تتبع مدة البقاء; تنبيهات تجاوز المدة |
| BM-015 | إدارة العمالة المتقدمة (Advanced Labor Management) | توسيع LaborDashboard الحالي بـ: معايير عمالة هندسية (engineered standards)، تتبع إنتاجية لكل عامل لكل مهمة، تقارير أداء مقارنة. SAP EWM و Manhattan Active و Blue Yonder كلها توفر labor management مدمج. | P1 | L (2-3 أسابيع) | عالي | متوسطة | تعريف معايير لكل نوع مهمة; تتبع الوقت الفعلي vs المعيار; تقارير إنتاجية لكل عامل |
| BM-016 | إشعارات بريد إلكتروني لسلاسل المستندات | توسيع chain-notification-handler.ts (12 قاعدة حالياً) بإشعارات بريد إلكتروني مباشرة عند إنشاء مستندات تابعة تلقائياً (GRN→QCI، MI→GatePass، IMSF→WT). حالياً الإشعارات in-app فقط. | P1 | S (1-2 أيام) | متوسط | منخفضة | 6 قوالب بريد جديدة لسلاسل المستندات; إرسال تلقائي عند auto-creation; رابط مباشر للمستند |
| BM-017 | تحسين البحث العام (Global Search) | إضافة بحث عام يغطي جميع أنواع المستندات الـ15 + Master Data. حالياً لا يوجد بحث عام. SAP Fiori و Oracle Fusion و NetSuite جميعها توفر enterprise search. | P1 | M (3-5 أيام) | عالي | منخفضة-متوسطة | بحث يغطي جميع أنواع المستندات; نتائج مُصنّفة حسب النوع; بحث بالرقم أو الحالة أو المحتوى |
| BM-018 | تحسين التصدير PDF | توسيع pdfExport.ts بدعم: تقارير متعددة الصفحات، جداول محورية، charts مضمّنة، headers/footers قابلة للتخصيص. المخرجات الحالية محدودة بصفحة واحدة + جدول line items. | P1 | M (3-5 أيام) | متوسط | منخفضة | تصدير PDF متعدد الصفحات; دعم Charts; headers/footers مخصصة; معاينة قبل الطباعة |
| BM-019 | Batch Operations للمستندات | توسيع bulk.service.ts (يدعم batch status change حالياً) بـ: batch approval، batch print، batch export. تقليل النقرات للعمليات المتكررة. | P1 | S (1-2 أيام) | متوسط | منخفضة | Batch approve يعمل لجميع أنواع المستندات; batch print لـ PDF; batch export لـ Excel |
| BM-020 | تحسين Mobile PWA | توسيع الصفحات المحمولة الـ3 (MobileGrnReceive, MobileMiIssue, MobileWtTransfer) بـ: gesture navigation، improved offline sync، push notification actions. | P1 | M (3-5 أيام) | متوسط-عالي | متوسطة | Swipe navigation; offline queue يعمل بدون أخطاء; push notifications تدعم الإجراءات المباشرة |

---

## P2 -- مرغوب (Nice-to-Have)

| المعرف | العنوان | الوصف | الأولوية | الجهد | الأثر | المخاطر | معايير القبول |
|--------|---------|-------|----------|-------|-------|---------|---------------|
| BM-030 | خدمة تنقل ديناميكية | `GET /api/v1/navigation` يُرجع قائمة تنقل مبنية على الدور والصلاحيات الفعلية والإعدادات. تخصيص التنقل من لوحة الإدارة بدون تعديل الكود. | P2 | L (2-3 أسابيع) | متوسط | متوسطة | التنقل يُجلب من API; المسؤول يعدّل الترتيب من UI; الأنواع الديناميكية تظهر تلقائياً; fallback للتنقل الثابت |
| BM-031 | محرك حالة موحد | StateEngine مركزي مع DB-configurable transitions و guards و side effects. ترحيل 15 نوع مستند من منطق مُبعثر عبر 22 خدمة. مرجع: SAP POSC. | P2 | XL (4-6 أسابيع) | عالي | عالية | StateEngine يدعم 15 نوع مستند; guards/effects من DB; ترحيل 3+ أنواع كإثبات مفهوم |
| BM-032 | نظام إدارة النقل (TMS) | إضافة: Carrier Management + Load Optimization + Freight Audit + GPS Tracking. مرجع: SAP TM و Oracle OTM و Manhattan Active TM. | P2 | XL (6-8 أسابيع) | عالي | عالية | CRUD ناقلين; خوارزمية load optimization; freight audit يكشف فروقات >5%; تكامل مع JO flow الحالي |
| BM-033 | تكامل EDI | دعم معايير EDI (ANSI X12, EDIFACT) لتبادل المستندات مع الموردين والناقلين إلكترونياً. SAP IDoc و Oracle EDI و NetSuite EDI كلها توفر دعماً مدمجاً. | P2 | L (3-4 أسابيع) | متوسط-عالي | عالية | دعم 5+ أنواع مستندات EDI; استلام/إرسال تلقائي; تحويل من/إلى صيغة النظام; سجل أخطاء |
| BM-034 | موصلات ERP (ERP Connectors) | إنشاء طبقة تكامل مع أنظمة ERP الخارجية (SAP, Oracle, Microsoft D365) لمزامنة Master Data و المعاملات. | P2 | XL (4-6 أسابيع) | عالي | عالية | موصل واحد على الأقل يعمل end-to-end; مزامنة Items/Suppliers/Projects; سجل عمليات المزامنة |
| BM-035 | تحسين تحميل الشاحنات (Load Optimization) | خوارزمية 3D bin-packing لتعظيم استخدام الشاحنات مع مراعاة الوزن/الحجم/التوافق/أولوية التفريغ. مرجع: SAP TM 3D Load Building. | P2 | L (2-3 أسابيع) | متوسط-عالي | متوسطة | خوارزمية تعمل مع بيانات حقيقية; visualizer للحمولة; نسبة استخدام >85% |
| BM-036 | طبقة تحليلات دلالية | Semantic Layer مع measures/dimensions/filters. توحيد 25 data source الحالية تحت طبقة دلالية واحدة. مرجع: SAP CDS views، NetSuite SuiteAnalytics. | P2 | L (3-4 أسابيع) | متوسط-عالي | متوسطة | 30+ measure و 15+ dimension; Dashboard Builder و Report Builder يستخدمان الطبقة; أداء <2 ثانية |
| BM-037 | Voice Picking | دعم التقاط صوتي (voice-directed picking) لعمليات الانتقاء في المستودع. Manhattan Active و Blue Yonder و Infor WMS كلها توفر voice picking مدمج. | P2 | L (3-4 أسابيع) | متوسط | عالية | Web Speech API integration; أوامر صوتية أساسية (confirm, next, cancel); تدريب مخصص |
| BM-038 | تكامل RFID | دعم قراءة/كتابة تقنية RFID لعمليات الاستلام والانتقاء والجرد. SAP EWM و Blue Yonder و Infor WMS توفر دعماً أصلياً. | P2 | L (2-3 أسابيع) | متوسط | عالية | قراءة RFID عبر API; ربط tags بـ Items; دعم في صفحات Mobile (GRN, MI, Cycle Count) |
| BM-039 | 3PL Multi-Tenant | دعم تعدد المستأجرين لشركات الخدمات اللوجستية (3PL) مع فصل البيانات والفوترة لكل عميل. Infor WMS و Korber WMS يتفوقان في هذا المجال. | P2 | XL (6-8 أسابيع) | عالي | عالية جداً | عزل بيانات لكل عميل; فوترة نشاط لكل عميل; dashboard لكل عميل; تقارير مقارنة |
| BM-040 | وقت تشغيل مستند موحد | DocumentRuntime.tsx موحد يعرض جميع أنواع المستندات الـ15 بتكوين فقط. ترحيل 45 صفحة form تدريجياً. مرجع: NetSuite record type renderer. | P2 | XL (6-8 أسابيع) | عالي | عالية | DocumentRuntime يعرض 15 نوع مستند; JO sub-types مدعومة; ترحيل 5+ أنواع كإثبات مفهوم |
| BM-041 | إطار نماذج/تقارير موحد | دمج DynamicFieldRenderer (20+ field type) مع FormField component في field type registry موحد. مشاركة المكوّنات بين Forms و Reports. | P2 | XL (4-6 أسابيع) | متوسط | عالية | Field type registry موحد 30+ نوع; النماذج الثابتة والديناميكية تُعرض عبر نفس المحرك |
| BM-042 | 3D Visual Warehouse | واجهة ثلاثية الأبعاد لعرض المستودع مع مواقع التخزين ومستويات المخزون. ميزة فريدة في Infor WMS -- تحديد الاختناقات بصرياً. | P2 | L (3-4 أسابيع) | متوسط | متوسطة | عرض 3D للمستودع; تلوين حسب مستوى الامتلاء; drill-down لتفاصيل الموقع; دعم WebGL |
| BM-043 | Dock Appointment Scheduling | نظام مواعيد لأبواب التحميل/التفريغ مع إدارة أولويات وتنبيهات تأخير. SAP TM سجّل 84/100 في هذه القدرة. | P2 | M (3-5 أيام) | متوسط | منخفضة | CRUD مواعيد; تعيين أبواب; تنبيهات تأخير; تقويم بصري; تكامل مع Shipment |

---

## ملخص إحصائي

| المستوى | العدد | الجهد الإجمالي التقديري |
|---------|-------|------------------------|
| P0 -- حرج | 7 | ~8-12 يوم عمل |
| P1 -- مهم | 11 | ~30-50 يوم عمل |
| P2 -- مرغوب | 14 | ~60-100 يوم عمل |
| **المجموع** | **32** | **~98-162 يوم عمل** |

---

## مصفوفة التبعيات

```
BM-001 (RBAC Dynamic) ──────→ لا تبعيات
BM-002 (AI Security) ───────→ لا تبعيات
BM-003 (Breadcrumbs) ───────→ لا تبعيات
BM-004 (Nav Unification) ──→ BM-003 (Breadcrumbs)
BM-005 (KPI Drill-down) ───→ لا تبعيات
BM-010 (Saved Views) ──────→ لا تبعيات
BM-011 (Exception Dashboard) → لا تبعيات
BM-012 (Report Templates) ─→ لا تبعيات
BM-015 (Labor Management) ─→ لا تبعيات
BM-017 (Global Search) ────→ لا تبعيات
BM-030 (Dynamic Nav) ──────→ BM-004 (Nav Unification)
BM-031 (State Engine) ─────→ لا تبعيات
BM-032 (TMS) ──────────────→ لا تبعيات
BM-036 (Semantic Analytics) → BM-012 (Report Templates)
BM-040 (Document Runtime) ─→ BM-031 (State Engine)
BM-041 (Form Framework) ───→ BM-040 (Document Runtime)
```

---

## ترتيب التنفيذ المقترح حسب Sprint

### Sprint 1 (أسبوع 1-2): الأساسيات الأمنية و UX

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-001 | تأمين صلاحيات الأنواع الديناميكية | S |
| BM-002 | تأمين وحدة AI | S |
| BM-003 | إضافة Breadcrumbs | S |
| BM-004 | توحيد التنقل لجميع الأدوار | S |
| BM-005 | إصلاح Drill-down من KPI | S |
| BM-006 | إضافة CSRF Protection | S |
| BM-007 | Audit Logging للأنواع الديناميكية | S |

### Sprint 2 (أسبوع 3-4): تحسينات تشغيلية

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-010 | عروض محفوظة للمستخدمين | M |
| BM-011 | لوحة استثناءات تشغيلية | M |
| BM-012 | قوالب تقارير تشغيلية | M |
| BM-016 | إشعارات بريد إلكتروني لسلاسل المستندات | S |
| BM-019 | Batch Operations | S |

### Sprint 3-4 (أسبوع 5-8): ميزات وظيفية

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-013 | محطة التعبئة (Packing Station) | M |
| BM-014 | إدارة منطقة التجميع | M |
| BM-017 | البحث العام | M |
| BM-018 | تحسين تصدير PDF | M |
| BM-020 | تحسين Mobile PWA | M |

### Sprint 5-8 (شهر 3-4): هيكلة متقدمة

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-015 | إدارة العمالة المتقدمة | L |
| BM-030 | خدمة تنقل ديناميكية | L |
| BM-036 | طبقة تحليلات دلالية | L |
| BM-043 | Dock Appointment Scheduling | M |

### Sprint 9-16 (شهر 5-8): إعادة هيكلة بنيوية

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-031 | محرك حالة موحد | XL |
| BM-032 | نظام إدارة النقل (TMS) | XL |
| BM-034 | موصلات ERP | XL |
| BM-040 | وقت تشغيل مستند موحد | XL |

### Backlog (حسب الأولوية والطلب):

| المعرف | العنوان | الجهد |
|--------|---------|-------|
| BM-033 | تكامل EDI | L |
| BM-035 | تحسين تحميل الشاحنات | L |
| BM-037 | Voice Picking | L |
| BM-038 | تكامل RFID | L |
| BM-039 | 3PL Multi-Tenant | XL |
| BM-041 | إطار نماذج/تقارير موحد | XL |
| BM-042 | 3D Visual Warehouse | L |

---

> **ملاحظة:** الأولويات قابلة للتعديل بناءً على متطلبات العمل وردود فعل المستخدمين. يُنصح بمراجعة الأولويات كل Sprint وتعديلها حسب الحاجة.
